(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(32),r=n.n(c),i=(n(38),n(10)),o=n(11),l=n(13),u=n(12),h=(n(39),n(0)),d=function(e){var t=e.user;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"td",children:t.id}),Object(h.jsx)("td",{className:"td",children:t.username}),Object(h.jsx)("td",{className:"td",children:t.firstname}),Object(h.jsx)("td",{className:"td",children:t.lastname}),Object(h.jsx)("td",{className:"td",children:t.email})]})},j=function(e){var t=e.users;return Object(h.jsxs)("table",{children:[Object(h.jsx)("th",{className:"th",children:"Id"}),Object(h.jsx)("th",{className:"th",children:"Username"}),Object(h.jsx)("th",{className:"th",children:"Firstname"}),Object(h.jsx)("th",{className:"th",children:"Lastname"}),Object(h.jsx)("th",{className:"th",children:"Email"}),t.map((function(e){return Object(h.jsx)(d,{user:e})}))]})};var b=function(){return Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("div",{className:"head_text",children:"Header"})})};var p=function(){return Object(h.jsx)("div",{className:"clr"})};var O=function(){return Object(h.jsx)("div",{className:"footer",children:Object(h.jsx)("div",{className:"footer_text",children:"Footer"})})},x=function(e){var t=e.project,n=e.delete_project;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"td",children:t.id}),Object(h.jsx)("td",{className:"td",children:t.name}),Object(h.jsx)("td",{className:"td",children:t.description}),Object(h.jsx)("td",{className:"td",children:t.links}),Object(h.jsx)("td",{className:"td",children:t.users.username}),Object(h.jsx)("td",{className:"td",children:Object(h.jsx)("button",{onClick:function(){return n(t.id)},type:"button",children:"Delete"})})]})},m=function(e){var t=e.projects,n=e.delete_project;return Object(h.jsxs)("table",{children:[Object(h.jsx)("th",{className:"th",children:"ID"}),Object(h.jsx)("th",{className:"th",children:"Name"}),Object(h.jsx)("th",{className:"th",children:"Description"}),Object(h.jsx)("th",{className:"th",children:"Links"}),Object(h.jsx)("th",{className:"th",children:"Members"}),Object(h.jsx)("th",{}),t.map((function(e){return Object(h.jsx)(x,{project:e,delete_project:n})}))]})},f=function(e){var t=e.note,n=e.delete_note;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"td",children:t.id}),Object(h.jsx)("td",{className:"td",children:t.project}),Object(h.jsx)("td",{className:"td",children:t.description}),Object(h.jsx)("td",{className:"td",children:t.createdAd}),Object(h.jsx)("td",{className:"td",children:t.updatedAd}),Object(h.jsx)("td",{className:"td",children:t.owner}),Object(h.jsx)("td",{className:"td",children:t.status}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{type:"button",onClick:function(){return n(t.id)},children:"Delete"})})]})},v=function(e){var t=e.notes,n=e.delete_note;return Object(h.jsxs)("table",{children:[Object(h.jsx)("th",{className:"th",children:"ID"}),Object(h.jsx)("th",{className:"th",children:"Project name"}),Object(h.jsx)("th",{className:"th",children:"Description"}),Object(h.jsx)("th",{className:"th",children:"Created"}),Object(h.jsx)("th",{className:"th",children:"Updated"}),Object(h.jsx)("th",{className:"th",children:"Owner"}),Object(h.jsx)("th",{className:"th",children:"Status"}),Object(h.jsx)("th",{}),t.map((function(e){return Object(h.jsx)(f,{note:e,delete_note:n})}))]})},g=n(15),k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={login:"",password:""},s}return Object(o.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){this.props.get_token(this.state.login,this.state.password),e.preventDefault()}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(h.jsx)("input",{type:"text",name:"login",placeholder:"login",value:this.state.login,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)("input",{type:"password",name:"password",placeholder:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)("input",{type:"submit",value:"Login"})]})}}]),n}(a.a.Component),N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={name:"",description:"",links:"",users:[]},s}return Object(o.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleChangeUsers",value:function(e){if(e.target.selectedOptions){for(var t=[],n=0;n<e.target.selectedOptions.length;n++)t.push(e.target.selectedOptions.item(n).value);console.log(t),this.setState({users:t})}}},{key:"handleSubmit",value:function(e){this.props.create_project(this.state.name,this.state.description,this.state.links,this.state.users),e.preventDefault()}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(h.jsx)("input",{type:"text",name:"name",placeholder:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)("input",{type:"text",name:"description",placeholder:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)("input",{type:"text",name:"links",placeholder:"links",value:this.state.links,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)("select",{multiple:!0,name:"users",className:"form-control",onChange:function(t){return e.handleChangeUsers(t)},children:this.props.users.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.username})}))}),Object(h.jsx)("input",{type:"submit",value:"Create"})]})}}]),n}(a.a.Component),_=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={projects:"",description:"",createdAd:"",updatedAd:"",owner:"",status:""},s}return Object(o.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){this.props.create_note(this.state.project,this.state.description,this.state.createdAd,this.state.updatedAd,this.state.owner,this.state.status),e.preventDefault()}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(h.jsx)("input",{type:"text",name:"Project",placeholder:"Project",value:this.state.project,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)("input",{type:"text",name:"description",placeholder:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)("input",{type:"date",name:"createdAd",placeholder:"createdAd",value:this.state.createdAd,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)("input",{type:"date",name:"updatedAd",placeholder:"updatedAd",value:this.state.updatedAd,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)("input",{type:"text",name:"owner",placeholder:"owner",value:this.state.owner,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)("input",{type:"boolean",name:"status",placeholder:"status",value:this.state.status,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)("input",{type:"submit",value:"Create"})]})}}]),n}(a.a.Component),C=n(8),y=n(2),S=n(9),w=n.n(S),A=n(22),D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={users:[],projects:[],notes:[],token:""},s}return Object(o.a)(n,[{key:"load_data",value:function(){var e=this,t=this.get_headers();w.a.get("http://127.0.0.1:8000/api/users/",{headers:t}).then((function(t){e.setState({users:t.data})})).catch((function(e){return console.log(e)})),w.a.get("http://127.0.0.1:8000/api/project/",{headers:t}).then((function(t){e.setState({projects:t.data})})).catch((function(e){return console.log(e)})),w.a.get("http://127.0.0.1:8000/api/todo/",{headers:t}).then((function(t){e.setState({notes:t.data})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){this.get_token_from_storage()}},{key:"set_token",value:function(e){var t=this;(new A.a).set("token",e),this.setState({token:e},(function(){return t.load_data()}))}},{key:"is_authenticated",value:function(){return""!=this.state.token}},{key:"logout",value:function(){this.set_token("")}},{key:"get_token_from_storage",value:function(){var e=this,t=(new A.a).get("token");this.setState({token:t},(function(){return e.load_data()}))}},{key:"get_headers",value:function(){return this.is_authenticated()?{Authorization:"Token "+this.state.token}:{}}},{key:"get_token",value:function(e,t){var n=this;w.a.post("http://127.0.0.1:8000/api-token-auth/",{username:e,password:t}).then((function(e){n.set_token(e.data.token)})).catch((function(e){return alert("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}))}},{key:"delete_project",value:function(e){var t=this,n=this.get_headers();w.a.delete("http://127.0.0.1:8000/api/project/".concat(e,"/"),{headers:n}).then((function(n){t.setState({projects:t.state.projects.filter((function(t){return t.id!==e}))})})).catch((function(e){console.log(e)}))}},{key:"delete_note",value:function(e){var t=this,n=this.get_headers();w.a.delete("http://127.0.0.1:8000/api/todo/".concat(e,"/"),{headers:n}).then((function(n){t.setState({notes:t.state.notes.filter((function(t){return t.id!==e}))})})).catch((function(e){console.log(e)}))}},{key:"create_project",value:function(e,t,n,s){var a=this;console.log("create_project "+e+" - "+t+" - "+n+" - "+s),w.a.post("http://127.0.0.1:8000/api/project/",{name:e,descriprion:t,links:n,users:s}).then((function(e){a.load_data()})).catch((function(e){return console.log("Error")}))}},{key:"create_note",value:function(e,t,n,s,a,c){var r=this;console.log("create_note "+e+" - "+t+" - "+n+" - "+s+" - "+a+" - "+c),w.a.post("http://127.0.0.1:8000/api/todo/",{project:e,descriprion:t,createdAd:n,updatedAd:s,owner:a,status:"status"}).then((function(e){r.load_data()})).catch((function(e){return console.log("Error")}))}},{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(C.a,{children:[Object(h.jsx)("div",{children:Object(h.jsx)(b,{})}),Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{className:"li",children:this.is_authenticated()?Object(h.jsx)("button",{onClick:function(){return e.logout()},children:"Logout"}):Object(h.jsx)(C.b,{to:"/login",children:"Login"})}),Object(h.jsx)("li",{className:"li",children:Object(h.jsx)(C.b,{to:"/",children:"Users"})}),Object(h.jsx)("li",{className:"li",children:Object(h.jsx)(C.b,{to:"/projects",children:"Projects"})}),Object(h.jsx)("li",{className:"li",children:Object(h.jsx)(C.b,{to:"/notes",children:"Notes"})}),Object(h.jsx)("li",{className:"li",children:Object(h.jsx)(C.b,{to:"/projects/create",children:"New Project"})}),Object(h.jsx)("li",{className:"li",children:Object(h.jsx)(C.b,{to:"/notes/create",children:"New Note"})})]})}),Object(h.jsxs)(y.d,{children:[Object(h.jsx)(y.b,{exact:!0,path:"/",component:function(){return Object(h.jsx)(j,{users:e.state.users})}}),Object(h.jsx)(y.b,{exact:!0,path:"/projects",component:function(){return Object(h.jsx)(m,{projects:e.state.projects,delete_project:function(t){return e.delete_project(t)}})}}),Object(h.jsx)(y.b,{exact:!0,path:"/projects/create",component:function(){return Object(h.jsx)(N,{create_project:function(t,n,s,a){return e.create_project(t,n,s,a)},users:e.state.users})}}),Object(h.jsx)(y.b,{exact:!0,path:"/notes/create",component:function(){return Object(h.jsx)(_,{create_note:function(t,n,s,a,c,r){return e.create_note(t,n,s,a,c,r)}})}}),Object(h.jsx)(y.b,{exact:!0,path:"/notes",component:function(){return Object(h.jsx)(v,{notes:e.state.notes,delete_note:function(t){return e.delete_note(t)}})}}),Object(h.jsx)(y.a,{from:"/users",to:"/"}),Object(h.jsx)(y.b,{exact:!0,path:"/login",component:function(){return Object(h.jsx)(k,{get_token:function(t,n){return e.get_token(t,n)}})}})]}),Object(h.jsx)("div",{children:Object(h.jsx)(p,{})}),Object(h.jsx)("div",{children:Object(h.jsx)(O,{})})]})})}}]),n}(a.a.Component),L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(D,{})}),document.getElementById("root")),L()}},[[64,1,2]]]);
//# sourceMappingURL=main.38a153bc.chunk.js.map